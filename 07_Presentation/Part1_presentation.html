<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RevOps Case Study - Svitlana Kovalivska</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        /* CSS for Bowtie Shapes */
        .clip-path-trapezoid-left-1 { clip-path: polygon(0% 0%, 100% 12%, 100% 88%, 0% 100%); margin-right: -1px; }
        .clip-path-trapezoid-left-2 { clip-path: polygon(0% 12%, 100% 24%, 100% 76%, 0% 88%); margin-right: -1px; }
        .clip-path-trapezoid-left-3 { clip-path: polygon(0% 24%, 100% 36%, 100% 64%, 0% 76%); margin-right: -1px; }

        .clip-path-trapezoid-right-1 { clip-path: polygon(0% 36%, 100% 24%, 100% 76%, 0% 64%); margin-left: -1px; }
        .clip-path-trapezoid-right-2 { clip-path: polygon(0% 24%, 100% 12%, 100% 88%, 0% 76%); margin-left: -1px; }
        /* Fixed polygon points for the last segment */
        .clip-path-trapezoid-right-3 { clip-path: polygon(0% 12%, 100% 0%, 100% 100%, 0% 88%); }

        .vertical-text-side { writing-mode: vertical-rl; transform: rotate(180deg); text-orientation: mixed; }

        @keyframes bounce-in {
          0% { transform: scale(0); opacity: 0; }
          60% { transform: scale(1.1); opacity: 1; }
          100% { transform: scale(1); }
        }
        .animate-bounce-in { animation: bounce-in 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
        
        @keyframes fade-in-up {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up { animation: fade-in-up 0.8s ease-out forwards; }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        .animate-float { animation: float 6s ease-in-out infinite; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ICONS ---
        const IconBase = ({ children, color = "currentColor", size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>{children}</svg>
        );
        const ArrowRight = (props) => <IconBase {...props}><path d="M5 12h14" /><path d="m12 5 7 7-7 7" /></IconBase>;
        const ArrowLeft = (props) => <IconBase {...props}><path d="M19 12H5" /><path d="m12 19-7-7 7-7" /></IconBase>;
        const Target = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10" /><circle cx="12" cy="12" r="6" /><circle cx="12" cy="12" r="2" /></IconBase>;
        const Mail = (props) => <IconBase {...props}><rect width="20" height="16" x="2" y="4" rx="2" /><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7" /></IconBase>;
        const Briefcase = (props) => <IconBase {...props}><rect width="20" height="14" x="2" y="7" rx="2" ry="2" /><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16" /></IconBase>;
        const UserCheck = (props) => <IconBase {...props}><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" /><circle cx="9" cy="7" r="4" /><polyline points="16 11 18 13 22 9" /></IconBase>;
        const ShieldCheck = (props) => <IconBase {...props}><path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z" /><path d="m9 12 2 2 4-4" /></IconBase>;
        const Database = (props) => <IconBase {...props}><ellipse cx="12" cy="5" rx="9" ry="3" /><path d="M3 5V19A9 3 0 0 0 21 19V5" /><path d="M3 12A9 3 0 0 0 21 12" /></IconBase>;
        const Activity = (props) => <IconBase {...props}><path d="M22 12h-4l-3 9L9 3l-3 9H2" /></IconBase>;
        const BarChart3 = (props) => <IconBase {...props}><path d="M3 3v18h18" /><path d="M18 17V9" /><path d="M13 17V5" /><path d="M8 17v-3" /></IconBase>;
        const Clock = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10" /><polyline points="12 6 12 12 16 14" /></IconBase>;
        const TrendingUp = (props) => <IconBase {...props}><polyline points="22 7 13.5 15.5 8.5 10.5 2 17" /><polyline points="16 7 22 7 22 13" /></IconBase>;
        const AlertTriangle = (props) => <IconBase {...props}><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z" /><line x1="12" y1="9" x2="12" y2="13" /><line x1="12" y1="17" x2="12.01" y2="17" /></IconBase>;
        const X = (props) => <IconBase {...props}><path d="M18 6 6 18" /><path d="m6 6 12 12" /></IconBase>;
        const Calculator = (props) => <IconBase {...props}><rect width="16" height="20" x="4" y="2" rx="2" /><line x1="8" x2="16" y1="6" y2="6" /><line x1="16" x2="16" y1="14" y2="18" /><path d="M16 10h.01" /><path d="M12 10h.01" /><path d="M8 10h.01" /><path d="M12 14h.01" /><path d="M8 14h.01" /><path d="M12 18h.01" /><path d="M8 18h.01" /></IconBase>;
        const Lightbulb = (props) => <IconBase {...props}><path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-1 1.5-2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5" /><path d="M9 18h6" /><path d="M10 22h4" /></IconBase>;
        const Info = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10" /><path d="M12 16v-4" /><path d="M12 8h.01" /></IconBase>;
        const RefreshCw = (props) => <IconBase {...props}><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8" /><path d="M21 3v5h-5" /><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16" /><path d="M8 16H3v5" /></IconBase>;
        const Box = (props) => <IconBase {...props}><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" /><polyline points="3.27 6.96 12 12.01 20.73 6.96" /><line x1="12" y1="22.08" x2="12" y2="12" /></IconBase>;

        // --- CONTENT DATA ---

        const deptData = {
            marketing: {
                title: "Marketing & Demand Gen",
                icon: <Target className="text-red-500" size={32} />,
                sections: [ { header: "Marketing Core", items: ["Demand Generation", "Content Management", "Campaign Execution"] }, { header: "Marketing Ops", items: ["Funnel Tracking", "Lead Scoring Logic", "Data Quality Assurance"] } ]
            },
            sales: {
                title: "Sales & Qualification",
                icon: <Briefcase className="text-red-700" size={32} />,
                sections: [ { header: "SDR / BDR", items: ["Inbound Qualification", "Outbound Prospecting", "Generating SQLs"] }, { header: "Account Executives", items: ["Deal Management", "Negotiation", "Closing"] }, { header: "Support", items: ["Sales Engineering (Technical Fit)"] } ]
            },
            ps: {
                title: "Professional Services",
                icon: <UserCheck className="text-green-500" size={32} />,
                sections: [ { header: "Implementation", items: ["System Setup & Config", "Go-Live Execution"] }, { header: "Customer Success", items: ["Handover from Sales", "Initial Support Setup"] } ]
            },
            cs: {
                title: "Customer Success & Support",
                icon: <ShieldCheck className="text-green-600" size={32} />,
                sections: [ { header: "Customer Success", items: ["Adoption Monitoring", "Value Realization", "Health Score Tracking"] }, { header: "Technical Support", items: ["Ticket Resolution", "Problem Solving"] } ]
            },
            account: {
                title: "Account Management",
                icon: <Database className="text-green-800" size={32} />,
                sections: [ { header: "Account Managers", items: ["Contract Renewals", "Upsell / Cross-sell"] }, { header: "Customer Success", items: ["Opportunity Identification", "QBRs"] } ]
            }
        };

        const kpiDetails = {
            "leads": { name: "New Leads", dept: "Marketing", why: "Tracks the volume of potential business. Drop predicts revenue gaps.", formula: "Count of New Contacts where Source = Marketing", example: "Drop of 20% MoM requires Campaign audit." },
            "mql_conv": { name: "Lead → MQL Rate", dept: "Demand Gen", why: "Measures lead quality. Low conversion = bad targeting.", formula: "(MQLs / Total Leads) × 100", example: "Target 15%. If 5%, adjust Lead Scoring." },
            "win_rate": { name: "Win Rate", dept: "Sales", why: "Efficiency & Product-Market Fit.", formula: "(Won / (Won + Lost)) × 100", example: "Low win rate needs better battlecards." },
            "sales_cycle": { name: "Sales Cycle Length", dept: "Sales", why: "Velocity metric. Shorter = lower CAC.", formula: "Avg(Close Date - Create Date)", example: "Stuck at Negotiation? Simplify contracts." },
            "time_to_live": { name: "Time to Go-Live", dept: "Pro Services", why: "Time-to-Value. Delays cause early churn.", formula: "Avg(Go-Live - Contract Sign)", example: "Spike? Hire more Implementation Mgrs." },
            "adoption": { name: "Adoption Rate", dept: "Customer Success", why: "Leading indicator of Retention.", formula: "(Active Users / Licenses) × 100", example: "<40% triggers Health Risk alert." },
            "nrr": { name: "Net Revenue Retention", dept: "Account Mgmt", why: "Sustainable growth > 100%.", formula: "((Start + Exp - Churn) / Start) × 100", example: "Focus on Upselling to offset Churn." }
        };

        const techDetails = {
            "hubspot": {
                title: "HubSpot: Lead Generation",
                role: "Marketing Automation (Awareness & Education)",
                desc: "HubSpot is the entry point. It captures potential leads via forms/ads, tracks behavior (page views), and scores them. Its job is to nurture raw leads until they are 'Sales Ready'.",
                key_function: "Handover Point: Passes MQLs to Dynamics."
            },
            "dynamics": {
                title: "Dynamics 365: Sales Execution",
                role: "CRM (Selection Phase)",
                desc: "Sales picks up the baton here. Dynamics manages the deal pipeline, quoting, and negotiation. It converts the MQL from HubSpot into a qualified Opportunity.",
                key_function: "Feedback Loop: Sends 'Deal Status' back to HubSpot."
            },
            "zendesk": {
                title: "Zendesk: Support & Retention",
                role: "Support (Impact Phase)",
                desc: "Used by the Support team to handle technical inquiries. A high volume of tickets here can alert the CSM (in Gainsight/Dynamics) of churn risk.",
                key_function: "Data Point: Ticket Volume / Time to Resolve."
            },
            "chargebee": {
                title: "Chargebee: Revenue Ops",
                role: "Billing (Grow Phase)",
                desc: "Manages subscriptions, invoicing, and dunning. It tells us who has paid, who is churning, and calculates the exact ARR for reporting.",
                key_function: "Data Point: MRR, Churn Date, Renewal Date."
            },
            "synclogic": {
                title: "Data Sync Proposal: HubSpot ↔ Dynamics",
                isTable: true,
                content: [
                    { field: "Data Direction", hs: "HubSpot ➝ Dynamics (One-way for Leads)", dyn: "Dynamics ➝ HubSpot (Back-sync for Status)" },
                    { field: "Trigger", hs: "Lead Score > 50 AND Lifecycle = MQL", dyn: "Opportunity Stage Change (e.g. to Closed Won)" },
                    { field: "Key Datapoints", hs: "Email (ID), Company, Source, Lead Score", dyn: "Deal Amount, Close Date, Disqualification Reason" },
                    { field: "Why this way?", hs: "Prevents clutter in CRM. Sales only sees qualified leads.", dyn: "Marketing needs 'Closed-Loop' data to calculate ROI." },
                    { field: "Considerations", hs: "Standardize drop-down fields (Industry, Country).", dyn: "Ensure GDPR compliance on both ends." }
                ]
            }
        };

        // --- APP ---
        const Presentation = () => {
          const [currentSlide, setCurrentSlide] = useState(1);
          const totalSlides = 8;
          const [activeModal, setActiveModal] = useState(null); 
          const [activeKpi, setActiveKpi] = useState(null);
          const [activeTech, setActiveTech] = useState(null);

          const nextSlide = () => { setCurrentSlide(prev => Math.min(prev + 1, totalSlides)); resetModals(); }
          const prevSlide = () => { setCurrentSlide(prev => Math.max(prev - 1, 1)); resetModals(); }
          const resetModals = () => { setActiveModal(null); setActiveKpi(null); setActiveTech(null); }

          useEffect(() => {
            const handleKeyDown = (e) => {
              if (e.key === 'ArrowRight') nextSlide();
              if (e.key === 'ArrowLeft') prevSlide();
              if (e.key === 'Escape') resetModals();
            };
            window.addEventListener('keydown', handleKeyDown);
            return () => window.removeEventListener('keydown', handleKeyDown);
          }, []);

          return (
            <div className="flex flex-col h-screen w-full bg-slate-50 font-sans text-slate-800 overflow-hidden">
              <div className="flex-grow relative flex items-center justify-center overflow-hidden p-8">
                <div className={`transition-all duration-700 ease-in-out transform w-full max-w-6xl aspect-video bg-white shadow-2xl rounded-xl relative overflow-hidden
                  ${currentSlide === 1 ? 'shadow-none bg-slate-50' : 'shadow-2xl bg-white'}
                  ${currentSlide === 4 ? 'scale-110 translate-x-[20%]' : ''} 
                  ${currentSlide === 5 ? 'scale-110 -translate-x-[20%]' : ''}
                `}>
                  {currentSlide !== 1 && currentSlide !== 8 && (
                    <div className="absolute top-0 left-0 w-full p-8 z-20 bg-white/90 backdrop-blur-sm border-b border-slate-100">
                        <SlideHeader slide={currentSlide} />
                    </div>
                  )}

                  {currentSlide > 1 && currentSlide < 8 && (
                      <div className={`absolute inset-0 flex items-center justify-center z-10 pt-20 transition-opacity duration-500 ${currentSlide === 7 ? 'opacity-30' : 'opacity-100'}`}>
                         <BowtieDiagram slide={currentSlide} onDeptClick={setActiveModal} />
                      </div>
                  )}

                  <div className="absolute inset-0 z-30 pointer-events-none pt-24">
                     <SlideContent slide={currentSlide} onKpiClick={setActiveKpi} onTechClick={setActiveTech} />
                  </div>

                  {/* MODAL: DEPARTMENTS (Slide 3) */}
                  {activeModal && deptData[activeModal] && (
                      <div className="absolute inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-sm animate-fade-in-up">
                          <div className="bg-white rounded-xl shadow-2xl p-8 max-w-lg w-full relative border-2 border-slate-100">
                              <button onClick={() => setActiveModal(null)} className="absolute top-4 right-4 text-slate-400 hover:text-slate-800 transition-colors"><X size={24} /></button>
                              <div className="flex items-center gap-4 mb-6 border-b border-slate-100 pb-4">
                                  <div className="p-3 bg-slate-50 rounded-full">{deptData[activeModal].icon}</div>
                                  <h2 className="text-2xl font-bold text-slate-800">{deptData[activeModal].title}</h2>
                              </div>
                              <div className="space-y-6">
                                  {deptData[activeModal].sections.map((section, idx) => (
                                      <div key={idx}>
                                          <h3 className="text-sm font-bold uppercase tracking-wider text-slate-500 mb-2">{section.header}</h3>
                                          <ul className="space-y-2">
                                              {section.items.map((item, i) => (
                                                  <li key={i} className="flex items-start gap-2 text-slate-700 font-medium">
                                                      <span className="mt-1.5 w-1.5 h-1.5 bg-blue-500 rounded-full shrink-0"></span>{item}
                                                  </li>
                                              ))}
                                          </ul>
                                      </div>
                                  ))}
                              </div>
                              <div className="mt-8 text-center text-xs text-slate-400">Press ESC to close</div>
                          </div>
                      </div>
                  )}

                  {/* MODAL: KPIs (Slide 4 & 5) */}
                  {activeKpi && kpiDetails[activeKpi] && (
                      <div className="absolute inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm animate-fade-in-up">
                          <div className="bg-white rounded-xl shadow-2xl p-0 max-w-lg w-full relative border border-slate-200 overflow-hidden">
                              <div className="bg-slate-50 p-6 border-b border-slate-100 flex justify-between items-start">
                                  <div>
                                      <div className="text-xs font-bold uppercase tracking-widest text-blue-600 mb-1">{kpiDetails[activeKpi].dept}</div>
                                      <h2 className="text-2xl font-bold text-slate-800">{kpiDetails[activeKpi].name}</h2>
                                  </div>
                                  <button onClick={() => setActiveKpi(null)} className="text-slate-400 hover:text-slate-800 transition-colors bg-white p-1 rounded-full shadow-sm"><X size={20} /></button>
                              </div>
                              <div className="p-6 space-y-6">
                                  <div>
                                      <div className="flex items-center gap-2 mb-2 text-slate-800 font-bold"><Lightbulb size={18} className="text-amber-500" /><h3>Why it matters</h3></div>
                                      <p className="text-slate-600 text-sm leading-relaxed pl-7">{kpiDetails[activeKpi].why}</p>
                                  </div>
                                  <div className="bg-blue-50 p-4 rounded-lg border border-blue-100">
                                      <div className="flex items-center gap-2 mb-2 text-blue-800 font-bold"><Calculator size={18} /><h3>Formula</h3></div>
                                      <code className="text-blue-700 text-sm font-mono block pl-7">{kpiDetails[activeKpi].formula}</code>
                                  </div>
                                  <div>
                                      <div className="flex items-center gap-2 mb-2 text-slate-800 font-bold"><Activity size={18} className="text-green-600" /><h3>Actionable Insight</h3></div>
                                      <p className="text-slate-600 text-sm leading-relaxed pl-7 italic">"{kpiDetails[activeKpi].example}"</p>
                                  </div>
                              </div>
                          </div>
                      </div>
                  )}

                  {/* MODAL: TECH STACK (Slide 6) */}
                  {activeTech && techDetails[activeTech] && (
                      <div className="absolute inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm animate-fade-in-up">
                          <div className="bg-white rounded-xl shadow-2xl p-0 max-w-3xl w-full relative border border-slate-200 overflow-hidden">
                              <div className="bg-slate-50 p-6 border-b border-slate-100 flex justify-between items-center">
                                  <h2 className="text-2xl font-bold text-slate-800">{techDetails[activeTech].title}</h2>
                                  <button onClick={() => setActiveTech(null)} className="text-slate-400 hover:text-slate-800 transition-colors"><X size={24} /></button>
                              </div>
                              
                              <div className="p-8">
                                  {techDetails[activeTech].isTable ? (
                                      <div className="overflow-hidden rounded-lg border border-slate-200">
                                          <table className="w-full text-sm text-left">
                                              <thead className="bg-slate-100 text-slate-500 font-bold uppercase text-xs">
                                                  <tr>
                                                      <th className="px-6 py-3 w-1/4">Mapping Factor</th>
                                                      <th className="px-6 py-3 text-orange-600 w-1/3">HubSpot (Lead Gen)</th>
                                                      <th className="px-6 py-3 text-blue-600 w-1/3">Dynamics (Sales Execution)</th>
                                                  </tr>
                                              </thead>
                                              <tbody className="divide-y divide-slate-100">
                                                  {techDetails[activeTech].content.map((row, i) => (
                                                      <tr key={i} className="bg-white hover:bg-slate-50">
                                                          <td className="px-6 py-4 font-bold text-slate-700">{row.field}</td>
                                                          <td className="px-6 py-4 text-slate-600">{row.hs}</td>
                                                          <td className="px-6 py-4 text-slate-600">{row.dyn}</td>
                                                      </tr>
                                                  ))}
                                              </tbody>
                                          </table>
                                          <div className="mt-4 p-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-800 text-sm">
                                              <strong>Proposal Summary:</strong> Implement a uni-directional sync for Leads (HS -> Dyn) to keep CRM clean, but a bi-directional sync for Status/Lifecycle to enable Closed-Loop Reporting for Marketing.
                                          </div>
                                      </div>
                                  ) : (
                                      <div className="space-y-6">
                                          <div className="flex items-start gap-4">
                                              <div className="p-3 bg-blue-50 rounded-lg text-blue-600"><Database size={24} /></div>
                                              <div>
                                                  <h3 className="text-lg font-bold text-slate-800">Role in the Journey</h3>
                                                  <p className="text-slate-600 mt-1 font-medium">{techDetails[activeTech].role}</p>
                                              </div>
                                          </div>
                                          <div>
                                              <h3 className="text-sm font-bold uppercase text-slate-400 mb-2">Description</h3>
                                              <p className="text-slate-700 leading-relaxed text-lg">{techDetails[activeTech].desc}</p>
                                          </div>
                                          <div className="bg-slate-50 p-4 rounded-lg border border-slate-100 flex items-center gap-3">
                                              <Info className="text-blue-500" size={20} />
                                              <div>
                                                  <span className="font-bold text-slate-800 block text-xs uppercase tracking-wide">Key Function</span>
                                                  <span className="text-slate-600 text-sm">{techDetails[activeTech].key_function}</span>
                                              </div>
                                          </div>
                                      </div>
                                  )}
                              </div>
                          </div>
                      </div>
                  )}

                </div>
              </div>

              {/* Navigation Bar */}
              <div className="h-20 bg-slate-900 text-white flex items-center justify-between px-8 shadow-lg z-50">
                <div className="flex flex-col">
                  <span className="text-xs text-slate-400">CANDIDATE</span>
                  <span className="font-bold">Svitlana Kovalivska</span>
                </div>
                <div className="flex items-center gap-4">
                  <button onClick={prevSlide} disabled={currentSlide === 1} className="p-3 rounded-full hover:bg-slate-700 disabled:opacity-30 transition-colors"><ArrowLeft size={24} className="text-white"/></button>
                  <span className="font-mono text-lg">{currentSlide} / {totalSlides}</span>
                  <button onClick={nextSlide} disabled={currentSlide === totalSlides} className="p-3 rounded-full hover:bg-blue-600 bg-blue-700 disabled:opacity-30 transition-colors"><ArrowRight size={24} className="text-white"/></button>
                </div>
                <div className="flex flex-col items-end">
                  <span className="text-xs text-slate-400">CASE STUDY</span>
                  <span className="font-bold text-blue-400">PTV LOGISTICS</span>
                </div>
              </div>
            </div>
          );
        };

        const SlideHeader = ({ slide }) => {
          const titles = [
            { main: "", sub: "" },
            { main: "The Bowtie Model", sub: "End-to-End Customer Journey Analysis" },
            { main: "Departmental Alignment", sub: "Mapping Teams to the Journey (Click Tags)" },
            { main: "Acquisition KPIs (Land)", sub: "Click KPIs for Formula & Logic" },
            { main: "Expansion KPIs (Expand)", sub: "Click KPIs for Formula & Logic" },
            { main: "Tech Stack & Data Sync", sub: "Click Icons/Sync for Data Mapping Proposal" },
            { main: "Executive KPIs: CEO-Ready Metrics", sub: "Strategic Indicators Mapped to the Model" },
            { main: "Alternative View: Strategic Ops Dashboard", sub: "Monthly Performance Review (SaaS Control Tower)" },
          ];
          return (
            <div>
              <h1 className="text-3xl font-bold text-slate-800">{titles[slide-1].main}</h1>
              <p className="text-slate-500 text-lg">{titles[slide-1].sub}</p>
            </div>
          );
        };

        // DeptTag
        const DeptTag = ({ label, colorClass, delay, onClick }) => (
            <button 
                onClick={onClick}
                className={`absolute -top-5 left-1/2 transform -translate-x-1/2 bg-white ${colorClass} border border-current px-3 py-1.5 rounded-full shadow-lg text-[10px] font-extrabold tracking-wide uppercase whitespace-nowrap z-40 animate-bounce-in hover:scale-110 hover:bg-slate-50 transition-all cursor-pointer flex items-center gap-1 group`} 
                style={{animationDelay: delay}}
            >
                {label}
                <Info size={12} className="opacity-0 group-hover:opacity-100 transition-opacity" />
            </button>
        );

        const BowtieDiagram = ({ slide, onDeptClick }) => {
          const isLeftFocus = slide === 4;
          const isRightFocus = slide === 5;
          const isTechSlide = slide === 6;
          // SHOW DEPARTMENTS on Slides 3, 4, 5, AND 6 (Added slide 6 here)
          const showDepts = slide === 3 || slide === 4 || slide === 5 || slide === 6;
          
          return (
            <div className={`relative w-[90%] h-[60%] transition-all duration-1000 ease-in-out
              ${isLeftFocus ? 'scale-125 origin-right translate-x-[15%]' : ''}
              ${isRightFocus ? 'scale-125 origin-left -translate-x-[15%]' : ''}
            `}>
              <div className={`absolute left-0 top-0 bottom-0 w-16 bg-slate-600 flex items-center justify-center text-white font-bold vertical-text-side rounded-l-lg transition-opacity duration-500 ${isRightFocus ? 'opacity-20' : 'opacity-100'}`}><span className="tracking-widest">PROBLEM</span></div>
              <div className={`absolute right-0 top-0 bottom-0 w-16 bg-slate-600 flex items-center justify-center text-white font-bold vertical-text-side rounded-r-lg transition-opacity duration-500 ${isLeftFocus ? 'opacity-20' : 'opacity-100'}`}><span className="tracking-widest">SOLUTION</span></div>

              <div className="absolute left-16 right-16 top-4 bottom-4 flex">
                <div className={`flex-1 flex transition-opacity duration-500 ${isRightFocus ? 'opacity-20 blur-[2px]' : 'opacity-100'}`}>
                  <div className="flex-1 relative flex flex-col group">
                      {showDepts && <DeptTag label="Marketing" colorClass="text-[#C90025]" delay="0ms" onClick={() => onDeptClick('marketing')} />}
                      <div className="w-full h-full bg-gradient-to-r from-[#C90025] to-[#D90429] clip-path-trapezoid-left-1 flex flex-col items-center justify-center text-white p-2">
                        <h3 className="font-bold text-sm md:text-lg mb-2 mt-4">AWARENESS</h3>
                      </div>
                  </div>
                  <div className="flex-1 relative flex flex-col">
                      {showDepts && <DeptTag label="Demand Gen" colorClass="text-[#D90429]" delay="100ms" onClick={() => onDeptClick('marketing')} />}
                      <div className="w-full h-full bg-gradient-to-r from-[#D90429] to-[#EF233C] clip-path-trapezoid-left-2 flex flex-col items-center justify-center text-white p-2">
                         <h3 className="font-bold text-sm md:text-lg mb-2 mt-4">EDUCATION</h3>
                      </div>
                  </div>
                  <div className="flex-1 relative flex flex-col">
                      {showDepts && <DeptTag label="Sales (AE/SDR)" colorClass="text-[#b30000]" delay="200ms" onClick={() => onDeptClick('sales')} />}
                      <div className="w-full h-full bg-gradient-to-r from-[#EF233C] to-[#b30000] clip-path-trapezoid-left-3 flex flex-col items-center justify-center text-white p-2">
                         <h3 className="font-bold text-sm md:text-lg mb-2 mt-4">SELECTION</h3>
                      </div>
                  </div>
                </div>

                <div className="w-10 bg-slate-800 self-center h-[28%] z-20 flex items-center justify-center shadow-xl">
                   <span className="text-white font-bold -rotate-90 text-[10px] tracking-wider whitespace-nowrap">CUSTOMER</span>
                </div>

                <div className={`flex-1 flex transition-opacity duration-500 ${isLeftFocus ? 'opacity-20 blur-[2px]' : 'opacity-100'}`}>
                   <div className="flex-1 relative flex flex-col">
                      {showDepts && <DeptTag label="Pro Services" colorClass="text-[#5bbb03]" delay="300ms" onClick={() => onDeptClick('ps')} />}
                      <div className="w-full h-full bg-gradient-to-r from-[#70E000] to-[#5bbb03] clip-path-trapezoid-right-1 flex flex-col items-center justify-center text-white p-2">
                          <h3 className="font-bold text-sm md:text-lg mb-2 mt-4">ONBOARD</h3>
                      </div>
                   </div>
                   <div className="flex-1 relative flex flex-col">
                      {showDepts && <DeptTag label="CS & Support" colorClass="text-[#008000]" delay="400ms" onClick={() => onDeptClick('cs')} />}
                      <div className="w-full h-full bg-gradient-to-r from-[#38B000] to-[#008000] clip-path-trapezoid-right-2 flex flex-col items-center justify-center text-white p-2">
                          <h3 className="font-bold text-sm md:text-lg mb-2 mt-4">IMPACT</h3>
                      </div>
                   </div>
                   <div className="flex-1 relative flex flex-col">
                      {showDepts && <DeptTag label="Account Mgmt" colorClass="text-[#004b23]" delay="500ms" onClick={() => onDeptClick('account')} />}
                      <div className="w-full h-full bg-gradient-to-r from-[#008000] to-[#004b23] clip-path-trapezoid-right-3 flex flex-col items-center justify-center text-white p-2">
                          <h3 className="font-bold text-sm md:text-lg mb-2 mt-4">GROW</h3>
                      </div>
                   </div>
                </div>
              </div>
            </div>
          );
        };

        const SlideContent = ({ slide, onKpiClick, onTechClick }) => {
          if (slide === 1) {
            return (
                <div className="w-full h-full flex flex-col items-center justify-center pointer-events-auto bg-slate-50 relative overflow-hidden">
                    {/* Abstract Background Shapes */}
                    <div className="absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none">
                        <div className="absolute top-[-10%] left-[-10%] w-[40%] h-[60%] bg-blue-100 rounded-full blur-3xl opacity-50 animate-pulse"></div>
                        <div className="absolute bottom-[-10%] right-[-10%] w-[40%] h-[60%] bg-green-100 rounded-full blur-3xl opacity-50 animate-pulse" style={{animationDelay: '1s'}}></div>
                        
                        {/* Geometric Bowtie Hints */}
                        <div className="absolute top-[20%] right-[10%] w-64 h-64 border border-slate-200 opacity-30 transform rotate-45 animate-float"></div>
                        <div className="absolute bottom-[20%] left-[10%] w-48 h-48 border-2 border-slate-100 opacity-40 rounded-full animate-float" style={{animationDelay: '2s'}}></div>
                    </div>

                    <div className="relative z-10 w-full max-w-5xl px-12 flex items-center justify-between">
                        {/* Text Content */}
                        <div className="max-w-2xl text-left animate-fade-in-up">
                            <div className="inline-block px-3 py-1 mb-6 border border-blue-200 bg-blue-50 text-blue-700 rounded-full text-sm font-bold uppercase tracking-wider shadow-sm">
                                Case Study
                            </div>
                            
                            <h1 className="text-7xl font-extrabold text-slate-900 leading-tight tracking-tight mb-6">
                                Bowtie Metrics <br/>
                                <span className="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-teal-500">
                                    & GTM Performance
                                </span>
                            </h1>
                            
                            <div className="flex items-center gap-4 mt-8">
                                <div className="h-12 w-1 bg-slate-300 rounded-full"></div>
                                <div>
                                    <p className="text-slate-400 text-sm font-bold uppercase tracking-widest mb-1">Prepared For</p>
                                    <div className="flex items-center gap-3">
                                        <Box className="text-blue-900" size={32} />
                                        <h2 className="text-3xl font-bold text-slate-800 tracking-tight">PTV Logistics GmbH</h2>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Candidate Card */}
                        <div className="w-80 backdrop-blur-xl bg-white/60 border border-white/50 p-8 rounded-2xl shadow-2xl transform rotate-2 hover:rotate-0 transition-transform duration-500 animate-fade-in-up" style={{animationDelay: '0.3s'}}>
                            <div className="mb-4">
                                <div className="w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg mb-4">
                                    SK
                                </div>
                                <h3 className="text-xl font-bold text-slate-900">Svitlana Kovalivska</h3>
                                <p className="text-blue-600 font-medium">RevOps Data Analyst</p>
                            </div>
                            <div className="border-t border-slate-200 pt-4 mt-4">
                                <div className="flex items-center gap-2 text-slate-500 text-sm">
                                    <Clock size={16} />
                                    <span>03.02.2026</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
          }
          if (slide === 4) {
            return (
              <div className="w-full h-full flex justify-start pl-10 items-end pb-10 pointer-events-auto">
                <div className="grid grid-cols-3 gap-4 w-[60%]">
                  <KpiCard title="New Leads" value="Volume" desc="Total new contacts in CRM" metric="Cost Per Lead" onClick={() => onKpiClick('leads')} />
                  <KpiCard title="MQL Conversion" value="Efficiency" desc="Lead to MQL %" metric="Lead Scoring Quality" onClick={() => onKpiClick('mql_conv')} />
                  <KpiCard title="Win Rate" value="Velocity" desc="Closed Won / Total Closed" metric="Sales Cycle Days" onClick={() => onKpiClick('win_rate')} />
                  <div className="col-span-3 flex gap-2 justify-center mt-2">
                     <button onClick={() => onKpiClick('sales_cycle')} className="px-4 py-2 bg-slate-200 hover:bg-slate-300 rounded-full text-xs font-bold text-slate-600 transition-colors">Also: Sales Cycle Length</button>
                  </div>
                </div>
              </div>
            );
          }
          if (slide === 5) {
            return (
              <div className="w-full h-full flex justify-end pr-10 items-end pb-10 pointer-events-auto">
                <div className="grid grid-cols-3 gap-4 w-[60%]">
                  <KpiCard title="Time to Live" value="Velocity" desc="Contract to System Live" metric="On-time %" color="green" onClick={() => onKpiClick('time_to_live')} />
                  <KpiCard title="Adoption Rate" value="Impact" desc="Active Users / Total Lic." metric="Time to Value" color="green" onClick={() => onKpiClick('adoption')} />
                  <KpiCard title="NRR" value="Growth" desc="Net Revenue Retention" metric="Churn Rate" color="green" onClick={() => onKpiClick('nrr')} />
                </div>
              </div>
            );
          }
          // UPDATED SLIDE 6: Refined Layout & Interactivity
          if (slide === 6) {
            return (
              <div className="w-full h-full relative pointer-events-auto">
                {/* Sync Logic Connector - MOVED HIGHER to top-10% to clear department tags */}
                <button 
                    onClick={() => onTechClick('synclogic')}
                    className="absolute top-[10%] left-[28%] w-[25%] group cursor-pointer z-50"
                >
                    <div className="h-16 border-t-4 border-dashed border-slate-400 rounded-t-full opacity-50 group-hover:opacity-100 group-hover:border-blue-500 transition-all"></div>
                    <div className="absolute -top-6 left-1/2 transform -translate-x-1/2 bg-white p-2 shadow-xl border rounded-lg flex items-center gap-2 group-hover:scale-110 transition-transform">
                        <RefreshCw size={18} className="text-slate-600 group-hover:text-blue-600 group-hover:animate-spin" />
                        <div>
                            <div className="text-[9px] font-bold text-slate-400 uppercase tracking-wider">Sync Logic</div>
                            <div className="text-[10px] font-bold text-blue-600">HubSpot ↔ Dynamics</div>
                        </div>
                    </div>
                </button>
                
                {/* Tools Labels - MOVED LOWER to y="85%" to clear stage names */}
                <ToolLabel x="18%" y="85%" name="HubSpot" role="Marketing Auto" color="text-orange-600" onClick={() => onTechClick('hubspot')} />
                <ToolLabel x="40%" y="85%" name="Dynamics 365" role="CRM / Sales" color="text-blue-600" onClick={() => onTechClick('dynamics')} />
                <ToolLabel x="60%" y="85%" name="Zendesk" role="Support" color="text-green-700" onClick={() => onTechClick('zendesk')} />
                <ToolLabel x="80%" y="85%" name="Chargebee" role="Billing" color="text-purple-600" onClick={() => onTechClick('chargebee')} />
              </div>
            );
          }
          if (slide === 7) {
            return (
              <div className="w-full h-full relative z-50">
                <div className="absolute top-[35%] left-[25%] transform -translate-x-1/2 animate-fade-in-up" style={{animationDelay:'0.1s'}}>
                    <BowtieKpi title="Pipeline Cov." value="3.5x" sub="Target: 3.0x" />
                </div>
                <div className="absolute top-[25%] left-[42%] transform -translate-x-1/2 animate-fade-in-up" style={{animationDelay:'0.2s'}}>
                    <BowtieKpi title="Win Rate" value="28%" sub="+2% QoQ" highlight />
                </div>
                <div className="absolute top-[60%] left-[42%] transform -translate-x-1/2 animate-fade-in-up" style={{animationDelay:'0.3s'}}>
                    <BowtieKpi title="Sales Cycle" value="45d" sub="-5d fast" />
                </div>
                <div className="absolute top-[35%] left-[75%] transform -translate-x-1/2 animate-fade-in-up" style={{animationDelay:'0.4s'}}>
                    <BowtieKpi title="NRR" value="115%" sub="Expansion" color="green" />
                </div>
                <div className="absolute top-[15%] left-[85%] transform -translate-x-1/2 animate-fade-in-up" style={{animationDelay:'0.5s'}}>
                    <BowtieKpi title="New ARR" value="$1.2M" sub="Growth" color="green" />
                </div>
                <div className="absolute bottom-10 left-1/2 transform -translate-x-1/2 w-3/4 bg-white/95 border border-blue-200 p-6 rounded-xl shadow-2xl flex items-start gap-4 animate-fade-in-up">
                    <div className="p-3 bg-blue-100 rounded-full text-blue-600"><AlertTriangle size={24} /></div>
                    <div>
                        <h4 className="font-bold text-slate-800 text-lg">Analyst Recommendation</h4>
                        <p className="text-slate-600 mt-1">
                            <strong>Acquisition is strong (3.5x pipeline), but Velocity is dragging.</strong> 
                            We should prioritize automating the handoff from Sales to Pro Services (Dynamics → Project Tool) to reduce Time-to-Live and accelerate revenue recognition.
                        </p>
                    </div>
                </div>
              </div>
            );
          }
          if (slide === 8) {
             return (
                 <div className="w-full h-full bg-slate-50 pointer-events-auto p-8 pt-24 overflow-y-auto">
                    <div className="absolute top-0 left-0 w-full p-8 z-20 bg-white border-b border-slate-100">
                        <SlideHeader slide={slide} />
                    </div>
                    <div className="grid grid-cols-12 gap-6 mt-4">
                        <div className="col-span-4 flex flex-col gap-4">
                            <h3 className="font-bold text-slate-500 uppercase tracking-wider text-xs mb-2">Acquisition Engine</h3>
                            <DashboardWidget title="Marketing Leads" value="1,240" sub="+12% vs MoM" trend="up">
                                <SimpleBarChart data={[40, 50, 45, 60, 55, 70]} color="#C90025" />
                            </DashboardWidget>
                            <DashboardWidget title="CAC Efficiency" value="$340" sub="Target: <$400" trend="good">
                                <div className="h-2 w-full bg-slate-100 rounded-full mt-2 overflow-hidden">
                                    <div className="h-full bg-green-500 w-[80%]"></div>
                                </div>
                            </DashboardWidget>
                        </div>
                        <div className="col-span-4 flex flex-col gap-4">
                            <h3 className="font-bold text-slate-500 uppercase tracking-wider text-xs mb-2">Revenue Performance</h3>
                            <DashboardWidget title="New ARR (YTD)" value="$4.2M" sub="98% of Target" trend="neutral">
                                <SimpleLineChart data={[10, 25, 40, 55, 80, 98]} color="#2563eb" />
                            </DashboardWidget>
                             <div className="grid grid-cols-2 gap-4">
                                <DashboardWidget title="Win Rate" value="28%" sub="-1%" trend="down" small />
                                <DashboardWidget title="Avg Deal" value="$45k" sub="+5k" trend="up" small />
                            </div>
                        </div>
                        <div className="col-span-4 flex flex-col gap-4">
                            <h3 className="font-bold text-slate-500 uppercase tracking-wider text-xs mb-2">Customer Health</h3>
                            <DashboardWidget title="Net Revenue Retention" value="115%" sub="World Class (>110%)" trend="up">
                                <div className="flex items-end gap-1 h-16 mt-2">
                                    <div className="w-4 bg-green-200 h-[60%]"></div>
                                    <div className="w-4 bg-green-300 h-[70%]"></div>
                                    <div className="w-4 bg-green-400 h-[85%]"></div>
                                    <div className="w-4 bg-green-600 h-[100%]"></div>
                                </div>
                            </DashboardWidget>
                            <DashboardWidget title="Churn Rate (Logos)" value="2.1%" sub="Alert: Increased in EU" trend="bad">
                                 <SimpleLineChart data={[1.8, 1.9, 1.8, 2.0, 2.1]} color="#C90025" />
                            </DashboardWidget>
                        </div>
                    </div>
                 </div>
             );
          }
          return null;
        };

        const BowtieKpi = ({ title, value, sub, color="blue", highlight=false }) => (
            <div className={`bg-white px-4 py-2 rounded-lg shadow-xl border-l-4 ${color === 'green' ? 'border-green-500' : 'border-blue-500'} ${highlight ? 'scale-125 ring-4 ring-blue-100' : ''}`}>
                <div className="text-[10px] text-slate-400 font-bold uppercase">{title}</div>
                <div className="text-xl font-extrabold text-slate-800">{value}</div>
                <div className="text-[10px] text-slate-500">{sub}</div>
            </div>
        );

        const DashboardWidget = ({ title, value, sub, trend, children, small }) => (
            <div className={`bg-white p-4 rounded-xl border border-slate-100 shadow-sm flex flex-col justify-between ${small ? 'h-32' : 'h-48'}`}>
                <div>
                    <div className="flex justify-between items-start">
                        <span className="text-slate-500 font-medium text-xs uppercase">{title}</span>
                        {trend === 'up' && <span className="text-green-500 bg-green-50 px-1.5 py-0.5 rounded text-[10px] font-bold">▲</span>}
                        {trend === 'down' && <span className="text-red-500 bg-red-50 px-1.5 py-0.5 rounded text-[10px] font-bold">▼</span>}
                        {trend === 'bad' && <span className="text-red-500 bg-red-50 px-1.5 py-0.5 rounded text-[10px] font-bold">!</span>}
                    </div>
                    <div className="text-2xl font-bold text-slate-800 mt-1">{value}</div>
                    <div className="text-xs text-slate-400">{sub}</div>
                </div>
                <div className="w-full mt-2">
                    {children}
                </div>
            </div>
        );

        const SimpleBarChart = ({ data, color }) => (
            <div className="flex items-end justify-between gap-1 h-16 w-full">
                {data.map((h, i) => (
                    <div key={i} style={{height: `${h}%`, backgroundColor: color}} className="w-full rounded-t-sm opacity-80 hover:opacity-100 transition-opacity"></div>
                ))}
            </div>
        );

        const SimpleLineChart = ({ data, color }) => {
            const max = Math.max(...data);
            const points = data.map((d, i) => {
                const x = (i / (data.length - 1)) * 100;
                const y = 100 - ((d / max) * 100);
                return `${x},${y}`;
            }).join(' ');

            return (
                <svg viewBox="0 0 100 100" className="w-full h-16 overflow-visible" preserveAspectRatio="none">
                    <polyline fill="none" stroke={color} strokeWidth="3" points={points} vectorEffect="non-scaling-stroke" />
                    {data.map((d, i) => (
                         <circle key={i} cx={(i / (data.length - 1)) * 100} cy={100 - ((d / max) * 100)} r="2" fill={color} />
                    ))}
                </svg>
            )
        };

        const KpiCard = ({ title, value, desc, metric, color = "red", onClick }) => (
          <button onClick={onClick} className={`text-left w-full bg-white p-4 rounded-lg shadow-lg border-l-4 ${color === 'red' ? 'border-red-500' : 'border-green-500'} animate-fade-in-up hover:scale-105 transition-transform group cursor-pointer`}>
            <div className="flex justify-between">
                <div className="text-xs uppercase font-bold text-slate-400 mb-1">{value}</div>
                <Info size={14} className="text-slate-300 group-hover:text-blue-500 transition-colors" />
            </div>
            <div className="text-lg font-bold text-slate-800 mb-1">{title}</div>
            <p className="text-xs text-slate-500 mb-3">{desc}</p>
            <div className="pt-2 border-t border-slate-100 flex justify-between items-center">
               <span className="text-xs font-semibold">{metric}</span>
               <BarChart3 size={14} className="text-slate-400"/>
            </div>
          </button>
        );

        const ToolLabel = ({ x, y, name, role, color, onClick }) => (
          <button 
            onClick={onClick}
            className="absolute transform -translate-x-1/2 bg-white px-4 py-2 rounded shadow-md border text-center hover:scale-110 transition-transform cursor-pointer group" 
            style={{ left: x, top: y }}
          >
            <div className={`font-bold text-sm ${color}`}>{name}</div>
            <div className="text-[10px] text-slate-500 uppercase">{role}</div>
            <Info size={12} className="absolute -top-1 -right-1 text-slate-400 opacity-0 group-hover:opacity-100 transition-opacity" />
          </button>
        );

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<Presentation />);
    </script>
</body>
</html>