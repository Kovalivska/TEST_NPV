<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>RevOps Case Study - Svitlana Kovalivska</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        /* CSS for Bowtie Shapes - WIDER CENTER (Less aggressive taper) */
        /* Logic: Center neck gap increased from ~16% to ~24% height */
        
        /* Left 1: 0-100% -> 12-88% */
        .clip-path-trapezoid-left-1 { clip-path: polygon(0% 0%, 100% 12%, 100% 88%, 0% 100%); margin-right: -1px; }
        /* Left 2: 12-88% -> 25-75% */
        .clip-path-trapezoid-left-2 { clip-path: polygon(0% 12%, 100% 25%, 100% 75%, 0% 88%); margin-right: -1px; }
        /* Left 3: 25-75% -> 38-62% (Center Neck) */
        .clip-path-trapezoid-left-3 { clip-path: polygon(0% 25%, 100% 38%, 100% 62%, 0% 75%); margin-right: -1px; }

        /* Right 1: Mirror of L3 */
        .clip-path-trapezoid-right-1 { clip-path: polygon(0% 38%, 100% 25%, 100% 75%, 0% 62%); margin-left: -1px; }
        /* Right 2: Mirror of L2 */
        .clip-path-trapezoid-right-2 { clip-path: polygon(0% 25%, 100% 12%, 100% 88%, 0% 75%); margin-left: -1px; }
        /* Right 3: Mirror of L1 */
        .clip-path-trapezoid-right-3 { clip-path: polygon(0% 12%, 100% 0%, 100% 100%, 0% 88%); }

        .vertical-text-side { writing-mode: vertical-rl; transform: rotate(180deg); text-orientation: mixed; }

        @keyframes bounce-in {
          0% { transform: scale(0); opacity: 0; }
          60% { transform: scale(1.1); opacity: 1; }
          100% { transform: scale(1); }
        }
        .animate-bounce-in { animation: bounce-in 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
        
        @keyframes fade-in-up {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up { animation: fade-in-up 0.8s ease-out forwards; }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        .animate-float { animation: float 6s ease-in-out infinite; }
        
        /* Force Layout */
        #root {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            width: 100vw;
            background-color: #f8fafc;
            overflow: hidden;
        }
        .slide-container {
            width: 100%;
            max-width: 1200px;
            height: 100%; 
            max-height: 100vh;
            position: relative;
            background: white;
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ICONS ---
        const IconBase = ({ children, color = "currentColor", size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>{children}</svg>
        );
        const ArrowRight = (props) => <IconBase {...props}><path d="M5 12h14" /><path d="m12 5 7 7-7 7" /></IconBase>;
        const ArrowLeft = (props) => <IconBase {...props}><path d="M19 12H5" /><path d="m12 19-7-7 7-7" /></IconBase>;
        const Target = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10" /><circle cx="12" cy="12" r="6" /><circle cx="12" cy="12" r="2" /></IconBase>;
        const Mail = (props) => <IconBase {...props}><rect width="20" height="16" x="2" y="4" rx="2" /><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7" /></IconBase>;
        const Briefcase = (props) => <IconBase {...props}><rect width="20" height="14" x="2" y="7" rx="2" ry="2" /><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16" /></IconBase>;
        const UserCheck = (props) => <IconBase {...props}><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" /><circle cx="9" cy="7" r="4" /><polyline points="16 11 18 13 22 9" /></IconBase>;
        const ShieldCheck = (props) => <IconBase {...props}><path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z" /><path d="m9 12 2 2 4-4" /></IconBase>;
        const Database = (props) => <IconBase {...props}><ellipse cx="12" cy="5" rx="9" ry="3" /><path d="M3 5V19A9 3 0 0 0 21 19V5" /><path d="M3 12A9 3 0 0 0 21 12" /></IconBase>;
        const Activity = (props) => <IconBase {...props}><path d="M22 12h-4l-3 9L9 3l-3 9H2" /></IconBase>;
        const BarChart3 = (props) => <IconBase {...props}><path d="M3 3v18h18" /><path d="M18 17V9" /><path d="M13 17V5" /><path d="M8 17v-3" /></IconBase>;
        const Clock = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10" /><polyline points="12 6 12 12 16 14" /></IconBase>;
        const TrendingUp = (props) => <IconBase {...props}><polyline points="22 7 13.5 15.5 8.5 10.5 2 17" /><polyline points="16 7 22 7 22 13" /></IconBase>;
        const AlertTriangle = (props) => <IconBase {...props}><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z" /><line x1="12" y1="9" x2="12" y2="13" /><line x1="12" y1="17" x2="12.01" y2="17" /></IconBase>;
        const X = (props) => <IconBase {...props}><path d="M18 6 6 18" /><path d="m6 6 12 12" /></IconBase>;
        const Calculator = (props) => <IconBase {...props}><rect width="16" height="20" x="4" y="2" rx="2" /><line x1="8" x2="16" y1="6" y2="6" /><line x1="16" x2="16" y1="14" y2="18" /><path d="M16 10h.01" /><path d="M12 10h.01" /><path d="M8 10h.01" /><path d="M12 14h.01" /><path d="M8 14h.01" /><path d="M12 18h.01" /><path d="M8 18h.01" /></IconBase>;
        const Lightbulb = (props) => <IconBase {...props}><path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-1 1.5-2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5" /><path d="M9 18h6" /><path d="M10 22h4" /></IconBase>;
        const Info = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10" /><path d="M12 16v-4" /><path d="M12 8h.01" /></IconBase>;
        const RefreshCw = (props) => <IconBase {...props}><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8" /><path d="M21 3v5h-5" /><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16" /><path d="M8 16H3v5" /></IconBase>;
        const Box = (props) => <IconBase {...props}><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" /><polyline points="3.27 6.96 12 12.01 20.73 6.96" /><line x1="12" y1="22.08" x2="12" y2="12" /></IconBase>;
        const Github = (props) => <IconBase {...props}><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4" /><path d="M9 18c-4.51 2-5-2-7-2" /></IconBase>;
        const Linkedin = (props) => <IconBase {...props}><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z" /><rect width="4" height="12" x="2" y="9" /><circle cx="4" cy="4" r="2" /></IconBase>;
        const Globe = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10" /><line x1="2" x2="22" y1="12" y2="12" /><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z" /></IconBase>;
        const Phone = (props) => <IconBase {...props}><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z" /></IconBase>;
        const MessageSquare = (props) => <IconBase {...props}><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" /></IconBase>;

        // --- CONTENT DATA ---

        const deptData = {
            marketing: {
                title: "Marketing & Demand Gen",
                icon: <Target className="text-red-500" size={32} />,
                sections: [ { header: "Marketing Core", items: ["Demand Generation", "Content Management", "Campaign Execution"] }, { header: "Marketing Ops", items: ["Funnel Tracking", "Lead Scoring Logic", "Data Quality Assurance"] } ]
            },
            sales: {
                title: "Sales & Qualification",
                icon: <Briefcase className="text-red-700" size={32} />,
                sections: [ { header: "SDR / BDR", items: ["Inbound Qualification", "Outbound Prospecting", "Generating SQLs"] }, { header: "Account Executives", items: ["Deal Management", "Negotiation", "Closing"] }, { header: "Support", items: ["Sales Engineering (Technical Fit)"] } ]
            },
            ps: {
                title: "Professional Services",
                icon: <UserCheck className="text-green-500" size={32} />,
                sections: [ { header: "Implementation", items: ["System Setup & Config", "Go-Live Execution"] }, { header: "Customer Success", items: ["Handover from Sales", "Initial Support Setup"] } ]
            },
            cs: {
                title: "Customer Success & Support",
                icon: <ShieldCheck className="text-green-600" size={32} />,
                sections: [ { header: "Customer Success", items: ["Adoption Monitoring", "Value Realization", "Health Score Tracking"] }, { header: "Technical Support", items: ["Ticket Resolution", "Problem Solving"] } ]
            },
            account: {
                title: "Account Management",
                icon: <Database className="text-green-800" size={32} />,
                sections: [ { header: "Account Managers", items: ["Contract Renewals", "Upsell / Cross-sell"] }, { header: "Customer Success", items: ["Opportunity Identification", "QBRs"] } ]
            }
        };

        const kpiDetails = {
            "leads": { name: "New Leads", dept: "Marketing", why: "Tracks the volume of potential business. Drop predicts revenue gaps.", formula: "Count of New Contacts where Source = Marketing", example: "Drop of 20% MoM requires Campaign audit." },
            "mql_conv": { name: "Lead → MQL Rate", dept: "Demand Gen", why: "Measures lead quality. Low conversion = bad targeting.", formula: "(MQLs / Total Leads) × 100", example: "Target 15%. If 5%, adjust Lead Scoring." },
            "win_rate": { name: "Win Rate", dept: "Sales", why: "Efficiency & Product-Market Fit.", formula: "(Won / (Won + Lost)) × 100", example: "Low win rate needs better battlecards." },
            "sales_cycle": { name: "Sales Cycle Length", dept: "Sales", why: "Velocity metric. Shorter = lower CAC.", formula: "Avg(Close Date - Create Date)", example: "Stuck at Negotiation? Simplify contracts." },
            "time_to_live": { name: "Time to Go-Live", dept: "Pro Services", why: "Time-to-Value. Delays cause early churn.", formula: "Avg(Go-Live - Contract Sign)", example: "Spike? Hire more Implementation Mgrs." },
            "adoption": { name: "Adoption Rate", dept: "Customer Success", why: "Leading indicator of Retention.", formula: "(Active Users / Licenses) × 100", example: "<40% triggers Health Risk alert." },
            "nrr": { name: "Net Revenue Retention", dept: "Account Mgmt", why: "Sustainable growth > 100%.", formula: "((Start + Exp - Churn) / Start) × 100", example: "Focus on Upselling to offset Churn." }
        };

        // Separate definitions for dashboard metrics to be clickable
        const dashboardMetrics = {
            "marketing_leads": { name: "Marketing Leads", dept: "Acquisition", why: "Volume indicator of funnel health.", formula: "Sum(New Leads)", example: "+12% Growth indicates campaign success." },
            "cac": { name: "CAC Efficiency", dept: "Acquisition", why: "Cost effectiveness of acquisition.", formula: "Sales & Marketing Costs / New Customers", example: "Lower is better. Target <$400." },
            "new_arr": { name: "New ARR (YTD)", dept: "Revenue", why: "Primary growth velocity metric.", formula: "Sum(ARR from New Business)", example: "98% to target is excellent." },
            "win_rate_dash": { name: "Win Rate", dept: "Revenue", why: "Sales effectiveness.", formula: "Won / (Won + Lost)", example: "28% is healthy, but dipping slightly." },
            "avg_deal": { name: "Avg Deal Size", dept: "Revenue", why: "Market segment indicator.", formula: "Total New ARR / # Deals", example: "Growing deal size means moving upmarket." },
            "nrr_dash": { name: "Net Revenue Retention", dept: "Retention", why: "Growth from existing base.", formula: "(Start + Exp - Churn) / Start", example: "115% is world class." },
            "churn_rate": { name: "Churn Rate (Logos)", dept: "Retention", why: "Customer attrition.", formula: "Lost Customers / Start Customers", example: "2.1% alert requires CS intervention." }
        };

        const execKpiDetails = {
            "pipeline": { name: "Pipeline Coverage", dept: "Sales/Marketing", why: "Predictability metric. Tells leadership if there's enough raw opportunity to hit quota. < 3x is a critical risk.", formula: "Open Pipeline / Revenue Target", example: "3.5x Coverage means we can afford to lose some deals and still hit target." },
            "win_rate_exec": { name: "Win Rate", dept: "Sales", why: "Efficiency metric. High win rates indicate strong Product-Market Fit and effective sales execution.", formula: "(Won Deals / Total Closed Deals) %", example: "Increasing Win Rate from 25% to 30% can add millions in revenue without adding leads." },
            "sales_cycle_exec": { name: "Sales Cycle Length", dept: "Sales", why: "Velocity metric. Speed is money. Identifying friction in the buying process accelerates cash flow.", formula: "Avg(Close Date - Create Date)", example: "Dropping cycle from 90 to 60 days increases annual capacity by 33%." },
            "nrr_exec": { name: "Net Revenue Retention (NRR)", dept: "Customer Success", why: "Health metric. NRR > 100% means the company grows even if sales stop selling. Key for valuation.", formula: "(Start ARR + Expansion - Churn) / Start ARR", example: "115% NRR is considered 'Best in Class' for SaaS." },
            "arr_exec": { name: "New ARR", dept: "Sales", why: "Growth metric. The primary measure of new business velocity and market capture.", formula: "Sum(ARR of Closed Won Deals)", example: "Missing this target directly impacts company valuation and roadmap." }
        };

        const recommendationData = {
            title: "Analyst Recommendation",
            desc: "Acquisition is strong (3.5x pipeline), but Velocity is dragging. The 'Time-to-Live' metric has increased by 15%, delaying revenue recognition. We should prioritize automating the handoff from Sales to Pro Services (Dynamics → Project Tool) to reduce this friction."
        }

        const techDetails = {
            "hubspot": {
                title: "HubSpot: Lead Generation",
                role: "Marketing Automation (Awareness & Education)",
                desc: "HubSpot is the entry point. It captures potential leads via forms/ads, tracks behavior (page views), and scores them. Its job is to nurture raw leads until they are 'Sales Ready'.",
                key_function: "Handover Point: Passes MQLs to Dynamics."
            },
            "dynamics": {
                title: "Dynamics 365: Sales Execution",
                role: "CRM (Selection Phase)",
                desc: "Sales picks up the baton here. Dynamics manages the deal pipeline, quoting, and negotiation. It converts the MQL from HubSpot into a qualified Opportunity.",
                key_function: "Feedback Loop: Sends 'Deal Status' back to HubSpot."
            },
            "zendesk": {
                title: "Zendesk: Support & Retention",
                role: "Support (Impact Phase)",
                desc: "Used by the Support team to handle technical inquiries. A high volume of tickets here can alert the CSM (in Gainsight/Dynamics) of churn risk.",
                key_function: "Data Point: Ticket Volume / Time to Resolve."
            },
            "chargebee": {
                title: "Chargebee: Revenue Ops",
                role: "Billing (Grow Phase)",
                desc: "Manages subscriptions, invoicing, and dunning. It tells us who has paid, who is churning, and calculates the exact ARR for reporting.",
                key_function: "Data Point: MRR, Churn Date, Renewal Date."
            },
            "synclogic": {
                title: "Data Sync Proposal: HubSpot ↔ Dynamics",
                isTable: true,
                content: [
                    { field: "Data Direction", hs: "HubSpot ➝ Dynamics (One-way for Leads)", dyn: "Dynamics ➝ HubSpot (Back-sync for Status)" },
                    { field: "Trigger", hs: "Lead Score > 50 AND Lifecycle = MQL", dyn: "Opportunity Stage Change (e.g. to Closed Won)" },
                    { field: "Key Datapoints", hs: "Email (ID), Company, Source, Lead Score", dyn: "Deal Amount, Close Date, Disqualification Reason" },
                    { field: "Why this way?", hs: "Prevents clutter in CRM. Sales only sees qualified leads.", dyn: "Marketing needs 'Closed-Loop' data to calculate ROI." },
                    { field: "Considerations", hs: "Standardize drop-down fields (Industry, Country).", dyn: "Ensure GDPR compliance on both ends." }
                ]
            }
        };

        // --- APP ---
        const Presentation = () => {
          const [currentSlide, setCurrentSlide] = useState(1);
          const totalSlides = 9;
          const [activeModal, setActiveModal] = useState(null); 
          const [activeKpi, setActiveKpi] = useState(null);
          const [activeTech, setActiveTech] = useState(null);
          const [activeRec, setActiveRec] = useState(false);

          const nextSlide = () => { setCurrentSlide(prev => Math.min(prev + 1, totalSlides)); resetModals(); }
          const prevSlide = () => { setCurrentSlide(prev => Math.max(prev - 1, 1)); resetModals(); }
          const resetModals = () => { setActiveModal(null); setActiveKpi(null); setActiveTech(null); setActiveRec(false); }

          useEffect(() => {
            const handleKeyDown = (e) => {
              if (e.key === 'ArrowRight') nextSlide();
              if (e.key === 'ArrowLeft') prevSlide();
              if (e.key === 'Escape') resetModals();
            };
            window.addEventListener('keydown', handleKeyDown);
            return () => window.removeEventListener('keydown', handleKeyDown);
          }, []);

          return (
            <div className="slide-container rounded-none md:rounded-xl">
                  {currentSlide !== 1 && currentSlide !== 9 && (
                    <div className="absolute top-0 left-0 w-full p-4 md:p-8 z-20 bg-white/90 backdrop-blur-sm border-b border-slate-100">
                        <SlideHeader slide={currentSlide} />
                    </div>
                  )}

                  {currentSlide > 1 && currentSlide < 8 && (
                      <div className={`absolute inset-0 flex items-center justify-center z-10 pt-16 md:pt-20 transition-all duration-700 ease-in-out
                        ${currentSlide === 4 ? 'scale-125 translate-x-[20%]' : ''} 
                        ${currentSlide === 5 ? 'scale-125 -translate-x-[20%]' : ''}
                        ${currentSlide === 7 ? 'opacity-30' : 'opacity-100'}
                        pointer-events-none /* Ensures clicks pass through empty space */
                      `}>
                         {/* Passed Department Click Handler + Show Depts logic inside component */}
                         <BowtieDiagram slide={currentSlide} onDeptClick={setActiveModal} />
                      </div>
                  )}

                  <div className="absolute inset-0 z-30 pointer-events-none">
                     <SlideContent slide={currentSlide} onKpiClick={setActiveKpi} onTechClick={setActiveTech} onRecClick={() => setActiveRec(true)} />
                  </div>

                  {/* MODALS - GENERAL LOGIC */}
                  {(activeModal || activeKpi || activeTech || activeRec) && (
                      <div className="absolute inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-sm animate-fade-in-up px-4">
                          <div className="bg-white rounded-xl shadow-2xl p-0 max-w-lg w-full relative border border-slate-200 overflow-hidden max-h-[80vh] overflow-y-auto">
                              {/* HEADER */}
                              <div className="bg-slate-50 p-6 border-b border-slate-100 flex justify-between items-start">
                                  {activeModal && deptData[activeModal] && (
                                      <div className="flex items-center gap-4">
                                          <div className="p-3 bg-slate-50 rounded-full">{deptData[activeModal].icon}</div>
                                          <h2 className="text-xl font-bold text-slate-800">{deptData[activeModal].title}</h2>
                                      </div>
                                  )}
                                  {activeKpi && (kpiDetails[activeKpi] || execKpiDetails[activeKpi] || dashboardMetrics[activeKpi]) && (
                                      <div>
                                          <div className="text-xs font-bold uppercase tracking-widest text-blue-600 mb-1">
                                              {(kpiDetails[activeKpi] || execKpiDetails[activeKpi] || dashboardMetrics[activeKpi]).dept}
                                          </div>
                                          <h2 className="text-xl font-bold text-slate-800">{(kpiDetails[activeKpi] || execKpiDetails[activeKpi] || dashboardMetrics[activeKpi]).name}</h2>
                                      </div>
                                  )}
                                  {activeTech && techDetails[activeTech] && (
                                      <h2 className="text-xl font-bold text-slate-800">{techDetails[activeTech].title}</h2>
                                  )}
                                  {activeRec && (
                                      <div className="flex items-center gap-3">
                                          <AlertTriangle className="text-blue-600" />
                                          <h2 className="text-xl font-bold text-slate-800">{recommendationData.title}</h2>
                                      </div>
                                  )}
                                  <button onClick={resetModals} className="text-slate-400 hover:text-slate-800 transition-colors bg-white p-1 rounded-full shadow-sm"><X size={20} /></button>
                              </div>

                              {/* CONTENT */}
                              <div className="p-6 space-y-6">
                                  {/* DEPARTMENT CONTENT */}
                                  {activeModal && deptData[activeModal] && (
                                      <div className="space-y-6">
                                          {deptData[activeModal].sections.map((section, idx) => (
                                              <div key={idx}>
                                                  <h3 className="text-sm font-bold uppercase tracking-wider text-slate-500 mb-2">{section.header}</h3>
                                                  <ul className="space-y-2">
                                                      {section.items.map((item, i) => (
                                                          <li key={i} className="flex items-start gap-2 text-slate-700 font-medium text-sm">
                                                              <span className="mt-1.5 w-1.5 h-1.5 bg-blue-500 rounded-full shrink-0"></span>{item}
                                                          </li>
                                                      ))}
                                                  </ul>
                                              </div>
                                          ))}
                                      </div>
                                  )}

                                  {/* KPI CONTENT (Unified for Slides 4, 5, 7, 8) */}
                                  {activeKpi && (kpiDetails[activeKpi] || execKpiDetails[activeKpi] || dashboardMetrics[activeKpi]) && (
                                      <>
                                          <div>
                                              <div className="flex items-center gap-2 mb-2 text-slate-800 font-bold"><Lightbulb size={18} className="text-amber-500" /><h3>Why it matters</h3></div>
                                              <p className="text-slate-600 text-sm leading-relaxed pl-7">{(kpiDetails[activeKpi] || execKpiDetails[activeKpi] || dashboardMetrics[activeKpi]).why}</p>
                                          </div>
                                          <div className="bg-blue-50 p-4 rounded-lg border border-blue-100">
                                              <div className="flex items-center gap-2 mb-2 text-blue-800 font-bold"><Calculator size={18} /><h3>Formula</h3></div>
                                              <code className="text-blue-700 text-sm font-mono block pl-7 break-words">{(kpiDetails[activeKpi] || execKpiDetails[activeKpi] || dashboardMetrics[activeKpi]).formula}</code>
                                          </div>
                                          { (kpiDetails[activeKpi] || execKpiDetails[activeKpi] || dashboardMetrics[activeKpi]).example && (
                                              <div>
                                                  <div className="flex items-center gap-2 mb-2 text-slate-800 font-bold"><Activity size={18} className="text-green-600" /><h3>Analyst Insight</h3></div>
                                                  <p className="text-slate-600 text-sm leading-relaxed pl-7 italic">"{(kpiDetails[activeKpi] || execKpiDetails[activeKpi] || dashboardMetrics[activeKpi]).example}"</p>
                                              </div>
                                          )}
                                      </>
                                  )}

                                  {/* TECH CONTENT */}
                                  {activeTech && techDetails[activeTech] && (
                                       techDetails[activeTech].isTable ? (
                                          <div className="overflow-x-auto rounded-lg border border-slate-200">
                                              <table className="w-full text-xs text-left">
                                                  <thead className="bg-slate-100 text-slate-500 font-bold uppercase text-[10px]">
                                                      <tr>
                                                          <th className="px-3 py-3 w-1/4">Factor</th>
                                                          <th className="px-3 py-3 text-orange-600 w-1/3">HubSpot</th>
                                                          <th className="px-3 py-3 text-blue-600 w-1/3">Dynamics</th>
                                                      </tr>
                                                  </thead>
                                                  <tbody className="divide-y divide-slate-100">
                                                      {techDetails[activeTech].content.map((row, i) => (
                                                          <tr key={i} className="bg-white hover:bg-slate-50">
                                                              <td className="px-3 py-2 font-bold text-slate-700">{row.field}</td>
                                                              <td className="px-3 py-2 text-slate-600">{row.hs}</td>
                                                              <td className="px-3 py-2 text-slate-600">{row.dyn}</td>
                                                          </tr>
                                                      ))}
                                                  </tbody>
                                              </table>
                                          </div>
                                      ) : (
                                          <div className="space-y-6">
                                              <div>
                                                  <h3 className="text-sm font-bold uppercase text-slate-400 mb-2">Description</h3>
                                                  <p className="text-slate-700 leading-relaxed text-sm">{techDetails[activeTech].desc}</p>
                                              </div>
                                              <div className="bg-slate-50 p-4 rounded-lg border border-slate-100 flex items-center gap-3">
                                                  <Info className="text-blue-500" size={20} />
                                                  <div>
                                                      <span className="font-bold text-slate-800 block text-xs uppercase tracking-wide">Key Function</span>
                                                      <span className="text-slate-600 text-sm">{techDetails[activeTech].key_function}</span>
                                                  </div>
                                              </div>
                                          </div>
                                      )
                                  )}

                                  {/* RECOMMENDATION CONTENT */}
                                  {activeRec && (
                                      <div>
                                          <p className="text-slate-700 text-lg leading-relaxed">{recommendationData.desc}</p>
                                          <div className="mt-6 p-4 bg-green-50 border-l-4 border-green-500 text-sm text-green-800">
                                              <strong>Expected Outcome:</strong> Reduces time-to-value by 15% and increases NRR by 2% within Q3.
                                          </div>
                                      </div>
                                  )}
                              </div>
                          </div>
                      </div>
                  )}

                  {/* Navigation Bar */}
                  <div className="h-16 md:h-20 bg-slate-900 text-white flex items-center justify-between px-4 md:px-8 shadow-lg z-50 shrink-0 mt-auto">
                    <div className="flex flex-col">
                      <span className="text-[10px] md:text-xs text-slate-400">CANDIDATE</span>
                      <span className="text-sm md:text-base font-bold">Svitlana Kovalivska</span>
                    </div>
                    <div className="flex items-center gap-2 md:gap-4">
                      <button onClick={prevSlide} disabled={currentSlide === 1} className="p-2 md:p-3 rounded-full hover:bg-slate-700 disabled:opacity-30 transition-colors"><ArrowLeft size={20} className="text-white"/></button>
                      <span className="font-mono text-sm md:text-lg">{currentSlide} / {totalSlides}</span>
                      <button onClick={nextSlide} disabled={currentSlide === totalSlides} className="p-2 md:p-3 rounded-full hover:bg-blue-600 bg-blue-700 disabled:opacity-30 transition-colors"><ArrowRight size={20} className="text-white"/></button>
                    </div>
                    <div className="flex flex-col items-end hidden md:flex">
                      <span className="text-xs text-slate-400">CASE STUDY</span>
                      <span className="font-bold text-blue-400">PTV LOGISTICS</span>
                    </div>
                  </div>
            </div>
          );
        };

        const SlideHeader = ({ slide }) => {
          const titles = [
            { main: "", sub: "" },
            { main: "The Bowtie Model", sub: "End-to-End Customer Journey Analysis" },
            { main: "Departmental Alignment", sub: "Mapping Teams to the Journey" },
            { main: "Acquisition KPIs (Land)", sub: "Click KPIs for Formula & Logic" },
            { main: "Expansion KPIs (Expand)", sub: "Click KPIs for Formula & Logic" },
            { main: "Tech Stack & Data Sync", sub: "Click Icons/Sync for Data Mapping Proposal" },
            { main: "Executive KPIs", sub: "Click Metrics for Management Context" },
            { main: "Ops Dashboard", sub: "Interactive Performance Review (Click Metrics)" },
            { main: "Contact & Portfolio", sub: "Svitlana Kovalivska" }
          ];
          return (
            <div>
              <h1 className="text-xl md:text-3xl font-bold text-slate-800">{titles[slide-1].main}</h1>
              <p className="text-sm md:text-lg text-slate-500">{titles[slide-1].sub}</p>
            </div>
          );
        };

        const DeptTag = ({ label, colorClass, delay, onClick }) => (
            <button 
                onClick={onClick}
                className={`absolute -top-3 md:-top-5 left-1/2 transform -translate-x-1/2 bg-white ${colorClass} border border-current px-2 md:px-3 py-1 md:py-1.5 rounded-full shadow-lg text-[8px] md:text-[10px] font-extrabold tracking-wide uppercase whitespace-nowrap z-40 animate-bounce-in hover:scale-110 hover:bg-slate-50 transition-all cursor-pointer flex items-center gap-1 group pointer-events-auto`} 
                style={{animationDelay: delay}}
            >
                {label}
                <Info size={10} className="opacity-0 group-hover:opacity-100 transition-opacity" />
            </button>
        );

        const BowtieDiagram = ({ slide, onDeptClick }) => {
          const isLeftFocus = slide === 4;
          const isRightFocus = slide === 5;
          const isTechSlide = slide === 6;
          const showDepts = slide === 3 || slide === 4 || slide === 5 || slide === 6;
          
          return (
            <div className={`relative w-[95%] md:w-[90%] h-[50%] md:h-[60%] transition-all duration-1000 ease-in-out`}>
              <div className={`absolute left-0 top-0 bottom-0 w-8 md:w-16 bg-slate-600 flex items-center justify-center text-white font-bold vertical-text-side rounded-l-lg transition-opacity duration-500 ${isRightFocus ? 'opacity-20' : 'opacity-100'}`}><span className="tracking-widest text-[8px] md:text-base">PROBLEM</span></div>
              <div className={`absolute right-0 top-0 bottom-0 w-8 md:w-16 bg-slate-600 flex items-center justify-center text-white font-bold vertical-text-side rounded-r-lg transition-opacity duration-500 ${isLeftFocus ? 'opacity-20' : 'opacity-100'}`}><span className="tracking-widest text-[8px] md:text-base">SOLUTION</span></div>

              <div className="absolute left-8 md:left-16 right-8 md:right-16 top-2 md:top-4 bottom-2 md:bottom-4 flex">
                <div className={`flex-1 flex transition-opacity duration-500 ${isRightFocus ? 'opacity-20 blur-[2px]' : 'opacity-100'}`}>
                  <div className="flex-1 relative flex flex-col group">
                      {showDepts && <DeptTag label="Marketing" colorClass="text-[#C90025]" delay="0ms" onClick={() => onDeptClick('marketing')} />}
                      <div className="w-full h-full bg-gradient-to-r from-[#C90025] to-[#D90429] clip-path-trapezoid-left-1 flex flex-col items-center justify-center text-white p-1 md:p-2">
                        <h3 className="font-bold text-[8px] md:text-sm lg:text-lg mb-1 md:mb-2 mt-2 md:mt-4">AWARENESS</h3>
                      </div>
                  </div>
                  <div className="flex-1 relative flex flex-col">
                      {showDepts && <DeptTag label="Demand Gen" colorClass="text-[#D90429]" delay="100ms" onClick={() => onDeptClick('marketing')} />}
                      <div className="w-full h-full bg-gradient-to-r from-[#D90429] to-[#EF233C] clip-path-trapezoid-left-2 flex flex-col items-center justify-center text-white p-1 md:p-2">
                         <h3 className="font-bold text-[8px] md:text-sm lg:text-lg mb-1 md:mb-2 mt-2 md:mt-4">EDUCATION</h3>
                      </div>
                  </div>
                  <div className="flex-1 relative flex flex-col">
                      {showDepts && <DeptTag label="Sales (AE)" colorClass="text-[#b30000]" delay="200ms" onClick={() => onDeptClick('sales')} />}
                      <div className="w-full h-full bg-gradient-to-r from-[#EF233C] to-[#b30000] clip-path-trapezoid-left-3 flex flex-col items-center justify-center text-white p-1 md:p-2">
                         <h3 className="font-bold text-[8px] md:text-sm lg:text-lg mb-1 md:mb-2 mt-2 md:mt-4">SELECTION</h3>
                      </div>
                  </div>
                </div>

                {/* CENTRAL KNOT: WIDER GAP means this knot should be larger/taller to bridge them nicely? 
                    Actually, clip-path logic implies the 'neck' is the gap. 
                    I adjusted the clip-paths to make the connection WIDER vertically (e.g. 38%-62%). 
                    Visually, the knot just sits on top. */}
                <div className="w-6 md:w-10 bg-slate-800 self-center h-[32%] z-20 flex items-center justify-center shadow-xl">
                   <span className="text-white font-bold -rotate-90 text-[8px] md:text-[10px] tracking-wider whitespace-nowrap">CUSTOMER</span>
                </div>

                <div className={`flex-1 flex transition-opacity duration-500 ${isLeftFocus ? 'opacity-20 blur-[2px]' : 'opacity-100'}`}>
                   <div className="flex-1 relative flex flex-col">
                      {showDepts && <DeptTag label="Services" colorClass="text-[#5bbb03]" delay="300ms" onClick={() => onDeptClick('ps')} />}
                      <div className="w-full h-full bg-gradient-to-r from-[#70E000] to-[#5bbb03] clip-path-trapezoid-right-1 flex flex-col items-center justify-center text-white p-1 md:p-2">
                          <h3 className="font-bold text-[8px] md:text-sm lg:text-lg mb-1 md:mb-2 mt-2 md:mt-4">ONBOARD</h3>
                      </div>
                   </div>
                   <div className="flex-1 relative flex flex-col">
                      {showDepts && <DeptTag label="CS" colorClass="text-[#008000]" delay="400ms" onClick={() => onDeptClick('cs')} />}
                      <div className="w-full h-full bg-gradient-to-r from-[#38B000] to-[#008000] clip-path-trapezoid-right-2 flex flex-col items-center justify-center text-white p-1 md:p-2">
                          <h3 className="font-bold text-[8px] md:text-sm lg:text-lg mb-1 md:mb-2 mt-2 md:mt-4">IMPACT</h3>
                      </div>
                   </div>
                   <div className="flex-1 relative flex flex-col">
                      {showDepts && <DeptTag label="Account" colorClass="text-[#004b23]" delay="500ms" onClick={() => onDeptClick('account')} />}
                      <div className="w-full h-full bg-gradient-to-r from-[#008000] to-[#004b23] clip-path-trapezoid-right-3 flex flex-col items-center justify-center text-white p-1 md:p-2">
                          <h3 className="font-bold text-[8px] md:text-sm lg:text-lg mb-1 md:mb-2 mt-2 md:mt-4">GROW</h3>
                      </div>
                   </div>
                </div>
              </div>
            </div>
          );
        };

        const SlideContent = ({ slide, onKpiClick, onTechClick, onRecClick }) => {
          if (slide === 1) {
            return (
                <div className="w-full h-full flex flex-col items-center justify-center pointer-events-auto bg-slate-50 relative overflow-hidden pt-24 pb-32 overflow-y-auto">
                    <div className="relative z-10 w-full max-w-5xl px-6 md:px-12 flex flex-col md:flex-row items-center justify-between gap-8 pb-10">
                        <div className="max-w-2xl text-center md:text-left animate-fade-in-up">
                            <div className="inline-block px-3 py-1 mb-4 md:mb-6 border border-blue-200 bg-blue-50 text-blue-700 rounded-full text-xs md:text-sm font-bold uppercase tracking-wider shadow-sm">
                                Case Study
                            </div>
                            <h1 className="text-4xl md:text-7xl font-extrabold text-slate-900 leading-tight tracking-tight mb-4 md:mb-6">
                                Bowtie Metrics <br/>
                                <span className="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-teal-500">
                                    & GTM Performance
                                </span>
                            </h1>
                            <div className="flex flex-col md:flex-row items-center gap-4 mt-6 md:mt-8">
                                <div className="h-1 w-20 md:h-12 md:w-1 bg-slate-300 rounded-full"></div>
                                <div>
                                    <p className="text-slate-400 text-xs md:text-sm font-bold uppercase tracking-widest mb-1">Prepared For</p>
                                    <div className="flex items-center justify-center md:justify-start gap-3">
                                        <Box className="text-blue-900" size={24} />
                                        <h2 className="text-xl md:text-3xl font-bold text-slate-800 tracking-tight">PTV Logistics GmbH</h2>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div className="w-full max-w-sm backdrop-blur-xl bg-white/60 border border-white/50 p-6 md:p-8 rounded-2xl shadow-2xl transform md:rotate-2 md:hover:rotate-0 transition-transform duration-500 animate-fade-in-up" style={{animationDelay: '0.3s'}}>
                            <div className="mb-4 text-center md:text-left">
                                <div className="mx-auto md:mx-0 w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg mb-4">SK</div>
                                <h3 className="text-xl font-bold text-slate-900">Svitlana Kovalivska</h3>
                                <p className="text-blue-600 font-medium">RevOps Data Analyst</p>
                            </div>
                            <div className="border-t border-slate-200 pt-4 mt-4">
                                <div className="flex items-center justify-center md:justify-start gap-2 text-slate-500 text-sm">
                                    <Clock size={16} />
                                    <span>03.02.2026</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
          }
          if (slide === 4) {
            return (
              <div className="w-full h-full flex flex-col md:flex-row justify-start pl-4 md:pl-10 items-end pb-32 pointer-events-auto overflow-y-auto pt-24">
                <div className="grid grid-cols-1 md:grid-cols-3 gap-4 w-full md:w-[60%] pb-10">
                  <KpiCard title="New Leads" value="Volume" desc="Total new contacts in CRM" metric="Cost Per Lead" onClick={() => onKpiClick('leads')} />
                  <KpiCard title="MQL Conversion" value="Efficiency" desc="Lead to MQL %" metric="Lead Scoring Quality" onClick={() => onKpiClick('mql_conv')} />
                  <KpiCard title="Win Rate" value="Velocity" desc="Closed Won / Total Closed" metric="Sales Cycle Days" onClick={() => onKpiClick('win_rate')} />
                  <div className="col-span-1 md:col-span-3 flex gap-2 justify-center mt-2">
                     <button onClick={() => onKpiClick('sales_cycle')} className="px-4 py-2 bg-slate-200 hover:bg-slate-300 rounded-full text-xs font-bold text-slate-600 transition-colors">Also: Sales Cycle Length</button>
                  </div>
                </div>
              </div>
            );
          }
          if (slide === 5) {
            return (
              <div className="w-full h-full flex flex-col md:flex-row justify-end pr-4 md:pr-10 items-end pb-32 pointer-events-auto overflow-y-auto pt-24">
                <div className="grid grid-cols-1 md:grid-cols-3 gap-4 w-full md:w-[60%] pb-10">
                  <KpiCard title="Time to Live" value="Velocity" desc="Contract to System Live" metric="On-time %" color="green" onClick={() => onKpiClick('time_to_live')} />
                  <KpiCard title="Adoption Rate" value="Impact" desc="Active Users / Total Lic." metric="Time to Value" color="green" onClick={() => onKpiClick('adoption')} />
                  <KpiCard title="NRR" value="Growth" desc="Net Revenue Retention" metric="Churn Rate" color="green" onClick={() => onKpiClick('nrr')} />
                </div>
              </div>
            );
          }
          if (slide === 6) {
            return (
              <div className="w-full h-full relative pointer-events-auto">
                <button onClick={() => onTechClick('synclogic')} className="absolute top-[5%] md:top-[10%] left-[28%] w-[44%] md:w-[25%] group cursor-pointer z-50">
                    <div className="h-10 md:h-16 border-t-4 border-dashed border-slate-400 rounded-t-full opacity-50 group-hover:opacity-100 group-hover:border-blue-500 transition-all"></div>
                    <div className="absolute -top-6 left-1/2 transform -translate-x-1/2 bg-white p-2 shadow-xl border rounded-lg flex items-center gap-2 group-hover:scale-110 transition-transform">
                        <RefreshCw size={14} className="text-slate-600 group-hover:text-blue-600 group-hover:animate-spin" />
                        <div>
                            <div className="text-[8px] md:text-[9px] font-bold text-slate-400 uppercase tracking-wider">Sync Logic</div>
                            <div className="text-[8px] md:text-[10px] font-bold text-blue-600 hidden md:block">HubSpot ↔ Dynamics</div>
                        </div>
                    </div>
                </button>
                <ToolLabel x="18%" y="75%" name="HubSpot" role="Marketing Auto" color="text-orange-600" onClick={() => onTechClick('hubspot')} />
                <ToolLabel x="40%" y="75%" name="Dynamics 365" role="CRM / Sales" color="text-blue-600" onClick={() => onTechClick('dynamics')} />
                <ToolLabel x="60%" y="75%" name="Zendesk" role="Support" color="text-green-700" onClick={() => onTechClick('zendesk')} />
                <ToolLabel x="80%" y="75%" name="Chargebee" role="Billing" color="text-purple-600" onClick={() => onTechClick('chargebee')} />
              </div>
            );
          }
          if (slide === 7) {
            return (
              <div className="w-full h-full relative z-50 pointer-events-auto">
                <div className="absolute top-[35%] left-[25%] transform -translate-x-1/2 animate-fade-in-up" style={{animationDelay:'0.1s'}}>
                    <BowtieKpi title="Pipeline Cov." value="3.5x" sub="Target: 3.0x" onClick={() => onKpiClick('pipeline')} />
                </div>
                <div className="absolute top-[25%] left-[42%] transform -translate-x-1/2 animate-fade-in-up" style={{animationDelay:'0.2s'}}>
                    <BowtieKpi title="Win Rate" value="28%" sub="+2% QoQ" highlight onClick={() => onKpiClick('win_rate_exec')} />
                </div>
                <div className="absolute top-[60%] left-[42%] transform -translate-x-1/2 animate-fade-in-up" style={{animationDelay:'0.3s'}}>
                    <BowtieKpi title="Sales Cycle" value="45d" sub="-5d fast" onClick={() => onKpiClick('sales_cycle_exec')} />
                </div>
                <div className="absolute top-[35%] left-[75%] transform -translate-x-1/2 animate-fade-in-up" style={{animationDelay:'0.4s'}}>
                    <BowtieKpi title="NRR" value="115%" sub="Expansion" color="green" onClick={() => onKpiClick('nrr_exec')} />
                </div>
                <div className="absolute top-[15%] left-[85%] transform -translate-x-1/2 animate-fade-in-up" style={{animationDelay:'0.5s'}}>
                    <BowtieKpi title="New ARR" value="$1.2M" sub="Growth" color="green" onClick={() => onKpiClick('arr_exec')} />
                </div>
              </div>
            );
          }
          if (slide === 8) {
             return (
                 <div className="w-full h-full bg-slate-50 pointer-events-auto p-4 md:p-8 pt-24 overflow-y-auto">
                    <div className="grid grid-cols-1 md:grid-cols-12 gap-6 mt-4 pb-32">
                        <div className="col-span-1 md:col-span-4 flex flex-col gap-4 bg-white p-6 rounded-2xl shadow-sm border border-slate-200 h-full">
                            <h3 className="font-bold text-slate-500 uppercase tracking-wider text-xs mb-2 border-b pb-2">Acquisition Engine</h3>
                            <DashboardWidget title="Marketing Leads" value="1,240" sub="+12% vs MoM" trend="up" onClick={() => onKpiClick('marketing_leads')}>
                                <SimpleBarChart data={[40, 50, 45, 60, 55, 70]} color="#C90025" />
                            </DashboardWidget>
                            <DashboardWidget title="CAC Efficiency" value="$340" sub="Target: <$400" trend="good" onClick={() => onKpiClick('cac')}>
                                <div className="h-2 w-full bg-slate-100 rounded-full mt-2 overflow-hidden">
                                    <div className="h-full bg-green-500 w-[80%]"></div>
                                </div>
                            </DashboardWidget>
                        </div>
                        <div className="col-span-1 md:col-span-4 flex flex-col gap-4 bg-white p-6 rounded-2xl shadow-sm border border-slate-200 h-full">
                            <h3 className="font-bold text-slate-500 uppercase tracking-wider text-xs mb-2 border-b pb-2">Revenue Performance</h3>
                            <DashboardWidget title="New ARR (YTD)" value="$4.2M" sub="98% of Target" trend="neutral" onClick={() => onKpiClick('new_arr')}>
                                <SimpleLineChart data={[10, 25, 40, 55, 80, 98]} color="#2563eb" />
                            </DashboardWidget>
                             <div className="grid grid-cols-2 gap-4">
                                <DashboardWidget title="Win Rate" value="28%" sub="-1%" trend="down" small onClick={() => onKpiClick('win_rate_dash')} />
                                <DashboardWidget title="Avg Deal" value="$45k" sub="+5k" trend="up" small onClick={() => onKpiClick('avg_deal')} />
                            </div>
                        </div>
                        <div className="col-span-1 md:col-span-4 flex flex-col gap-4 bg-white p-6 rounded-2xl shadow-sm border border-slate-200 h-full">
                            <h3 className="font-bold text-slate-500 uppercase tracking-wider text-xs mb-2 border-b pb-2">Customer Health</h3>
                            <DashboardWidget title="Net Revenue Retention" value="115%" sub="World Class (>110%)" trend="up" onClick={() => onKpiClick('nrr_dash')}>
                                <div className="flex items-end gap-1 h-16 mt-2">
                                    <div className="w-4 bg-green-200 h-[60%]"></div>
                                    <div className="w-4 bg-green-300 h-[70%]"></div>
                                    <div className="w-4 bg-green-400 h-[85%]"></div>
                                    <div className="w-4 bg-green-600 h-[100%]"></div>
                                </div>
                            </DashboardWidget>
                            <DashboardWidget title="Churn Rate (Logos)" value="2.1%" sub="Alert: Increased in EU" trend="bad" onClick={() => onKpiClick('churn_rate')}>
                                 <SimpleLineChart data={[1.8, 1.9, 1.8, 2.0, 2.1]} color="#C90025" />
                            </DashboardWidget>
                        </div>
                    </div>
                 </div>
             );
          }
          if (slide === 9) {
              return (
                  <div className="w-full h-full flex flex-col items-center justify-center pointer-events-auto bg-slate-50 relative overflow-hidden pt-12 pb-32">
                      <div className="w-full max-w-lg bg-white rounded-3xl shadow-2xl p-10 text-center border border-slate-200 relative overflow-hidden animate-fade-in-up">
                          <div className="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-blue-500 to-teal-400"></div>
                          <div className="mx-auto w-24 h-24 bg-gradient-to-br from-slate-700 to-slate-900 rounded-full flex items-center justify-center text-white text-3xl font-bold mb-6 shadow-xl">SK</div>
                          <h2 className="text-3xl font-bold text-slate-900 mb-2">Svitlana Kovalivska</h2>
                          <p className="text-blue-600 font-medium uppercase tracking-widest text-sm mb-8">RevOps Data Analyst</p>
                          <div className="space-y-4">
                              <a href="https://kovalivska.github.io/my-kpis_and_projects/My_KPIs_and_%D0%A1V5.html" target="_blank" className="flex items-center gap-4 p-4 rounded-xl bg-slate-50 hover:bg-blue-50 border border-slate-100 hover:border-blue-200 transition-all group">
                                  <div className="p-2 bg-white rounded-full text-slate-700 group-hover:text-blue-600 shadow-sm"><Globe size={20} /></div>
                                  <div className="text-left"><div className="text-xs text-slate-400 font-bold uppercase">Portfolio</div><div className="text-slate-800 font-semibold group-hover:text-blue-700">View Projects & KPIs</div></div><ArrowRight size={16} className="ml-auto text-slate-300 group-hover:text-blue-400" />
                              </a>
                              <a href="mailto:kovalivska@gmail.com" className="flex items-center gap-4 p-4 rounded-xl bg-slate-50 hover:bg-blue-50 border border-slate-100 hover:border-blue-200 transition-all group">
                                  <div className="p-2 bg-white rounded-full text-slate-700 group-hover:text-blue-600 shadow-sm"><Mail size={20} /></div>
                                  <div className="text-left"><div className="text-xs text-slate-400 font-bold uppercase">Email</div><div className="text-slate-800 font-semibold group-hover:text-blue-700">kovalivska@gmail.com</div></div>
                              </a>
                              <div className="flex gap-4">
                                  <div className="flex-1 flex items-center justify-center gap-2 p-3 rounded-xl bg-slate-50 border border-slate-100 text-slate-700 font-medium"><Phone size={18} /><span>+49 1514 6320474</span></div>
                                  <a href="https://www.linkedin.com/in/svitlana-kovalivska" target="_blank" className="flex-1 flex items-center justify-center gap-2 p-3 rounded-xl bg-slate-50 hover:bg-blue-50 border border-slate-100 hover:border-blue-200 transition-all text-slate-700 hover:text-blue-700 font-medium"><Linkedin size={18} /><span>LinkedIn</span></a>
                                  <a href="https://github.com/Kovalivska" target="_blank" className="flex-1 flex items-center justify-center gap-2 p-3 rounded-xl bg-slate-50 hover:bg-slate-200 border border-slate-100 hover:border-slate-300 transition-all text-slate-700 hover:text-slate-900 font-medium"><Github size={18} /><span>GitHub</span></a>
                              </div>
                          </div>
                      </div>
                  </div>
              );
          }
          return null;
        };

        const BowtieKpi = ({ title, value, sub, color="blue", highlight=false, onClick }) => (
            <button onClick={onClick} className={`bg-white px-2 md:px-4 py-1 md:py-2 rounded-lg shadow-xl border-l-4 ${color === 'green' ? 'border-green-500' : 'border-blue-500'} ${highlight ? 'scale-110 md:scale-125 ring-2 md:ring-4 ring-blue-100' : ''} hover:scale-110 transition-transform cursor-pointer text-left`}>
                <div className="text-[8px] md:text-[10px] text-slate-400 font-bold uppercase flex items-center gap-1">
                    {title} <Info size={10} />
                </div>
                <div className="text-base md:text-xl font-extrabold text-slate-800">{value}</div>
                <div className="text-[8px] md:text-[10px] text-slate-500">{sub}</div>
            </button>
        );

        const DashboardWidget = ({ title, value, sub, trend, children, small, onClick }) => (
            <button onClick={onClick} className={`text-left w-full bg-white p-4 rounded-xl border border-slate-100 shadow-sm flex flex-col justify-between ${small ? 'h-24 md:h-32' : 'h-40 md:h-48'} hover:shadow-md hover:border-blue-200 transition-all cursor-pointer group`}>
                <div className="w-full">
                    <div className="flex justify-between items-start w-full">
                        <span className="text-slate-500 font-medium text-xs uppercase truncate pr-2 group-hover:text-blue-600 transition-colors">{title}</span>
                        {trend === 'up' && <span className="text-green-500 bg-green-50 px-1.5 py-0.5 rounded text-[10px] font-bold">▲</span>}
                        {trend === 'down' && <span className="text-red-500 bg-red-50 px-1.5 py-0.5 rounded text-[10px] font-bold">▼</span>}
                        {trend === 'bad' && <span className="text-red-500 bg-red-50 px-1.5 py-0.5 rounded text-[10px] font-bold">!</span>}
                    </div>
                    <div className="text-xl md:text-2xl font-bold text-slate-800 mt-1">{value}</div>
                    <div className="text-xs text-slate-400 truncate">{sub}</div>
                </div>
                <div className="w-full mt-2">
                    {children}
                </div>
            </button>
        );

        const SimpleBarChart = ({ data, color }) => (
            <div className="flex items-end justify-between gap-1 h-12 md:h-16 w-full">
                {data.map((h, i) => (
                    <div key={i} style={{height: `${h}%`, backgroundColor: color}} className="w-full rounded-t-sm opacity-80 hover:opacity-100 transition-opacity"></div>
                ))}
            </div>
        );

        const SimpleLineChart = ({ data, color }) => {
            const max = Math.max(...data);
            const points = data.map((d, i) => {
                const x = (i / (data.length - 1)) * 100;
                const y = 100 - ((d / max) * 100);
                return `${x},${y}`;
            }).join(' ');

            return (
                <svg viewBox="0 0 100 100" className="w-full h-12 md:h-16 overflow-visible" preserveAspectRatio="none">
                    <polyline fill="none" stroke={color} strokeWidth="3" points={points} vectorEffect="non-scaling-stroke" />
                    {data.map((d, i) => (
                         <circle key={i} cx={(i / (data.length - 1)) * 100} cy={100 - ((d / max) * 100)} r="2" fill={color} />
                    ))}
                </svg>
            )
        };

        const KpiCard = ({ title, value, desc, metric, color = "red", onClick }) => (
          <button onClick={onClick} className={`text-left w-full bg-white p-4 rounded-lg shadow-lg border-l-4 ${color === 'red' ? 'border-red-500' : 'border-green-500'} animate-fade-in-up hover:scale-105 transition-transform group cursor-pointer`}>
            <div className="flex justify-between">
                <div className="text-xs uppercase font-bold text-slate-400 mb-1">{value}</div>
                <Info size={14} className="text-slate-300 group-hover:text-blue-500 transition-colors" />
            </div>
            <div className="text-lg font-bold text-slate-800 mb-1">{title}</div>
            <p className="text-xs text-slate-500 mb-3">{desc}</p>
            <div className="pt-2 border-t border-slate-100 flex justify-between items-center">
               <span className="text-xs font-semibold">{metric}</span>
               <BarChart3 size={14} className="text-slate-400"/>
            </div>
          </button>
        );

        const ToolLabel = ({ x, y, name, role, color, onClick }) => (
          <button 
            onClick={onClick}
            className="absolute transform -translate-x-1/2 bg-white px-2 md:px-4 py-1 md:py-2 rounded shadow-md border text-center hover:scale-110 transition-transform cursor-pointer group" 
            style={{ left: x, top: y }}
          >
            <div className={`font-bold text-[10px] md:text-sm ${color}`}>{name}</div>
            <div className="text-[8px] md:text-[10px] text-slate-500 uppercase hidden md:block">{role}</div>
            <Info size={10} className="absolute -top-1 -right-1 text-slate-400 opacity-0 group-hover:opacity-100 transition-opacity" />
          </button>
        );

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<Presentation />);
    </script>
</body>
</html>